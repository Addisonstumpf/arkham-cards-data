{
  "$schema": "http://json-schema.org/schema#",
  "$id": "schema/input.schema.json",
  "definitions": {
    "scenarioInvestigatorsInput": {
      "$id": "#scenarioInvestigatorsInput",
      "title": "ScenarioInvestigatorsInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "scenario_investigators"
          ]
        }
      },
      "required": ["type"],
      "additionalProperties": false
    },
    "investigatorChoiceInput": {
      "$id": "#investigatorChoiceInput",
      "title": "InvestigatorChoiceInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "investigator_choice"
          ]
        },
        "defaultChoice": {
          "type": "number"
        },
        "source": {
          "type": "string",
          "enum": [
            "campaign",
            "scenario"
          ]
        },
        "investigatorCondition": {
          "$ref": "condition.schema.json#/definitions/cardCondition"
        },
        "investigator": {
          "type": "string",
          "enum": [
            "all",
            "choice",
            "any"
          ]
        },
        "detailed": {
          "type": "boolean"
        },
        "choices": {
          "type": "array",
          "items": {
            "$ref": "types.schema.json#/definitions/effectsChoice"
          }
        }
      },
      "required": ["type", "choices", "investigator", "source"],
      "additionalProperties": false
    },
    "suppliesInput": {
      "$id": "#suppliesInput",
      "title": "SuppliesInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "supplies"
          ]
        },
        "points": {
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "supplies": {
          "type": "array",
          "items": {
            "$ref": "types.schema.json#/definitions/supply"
          }
        },
        "section": {
          "type": "string"
        }
      },
      "required": ["type", "points", "supplies", "section"],
      "additionalProperties": false
    },
    "useSuppliesAllInput": {
      "$id": "#useSuppliesAllInput",
      "title": "UseSuppliesAllInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "use_supplies"
          ]
        },
        "section": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "investigator": {
          "type": "string",
          "enum": [
            "all"
          ]
        },
        "choices": {
          "type": "array",
          "items": {
            "$ref": "option.schema.json#/definitions/option"
          }
        }
      },
      "required": ["type", "section", "id", "investigator", "choices"],
      "additionalProperties": false
    },
    "useSuppliesChoiceInput": {
      "$id": "#useSuppliesChoiceInput",
      "title": "UseSuppliesChoiceInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "use_supplies"
          ]
        },
        "section": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "investigator": {
          "type": "string",
          "enum": [
            "choice"
          ]
        },
        "min": {
          "type": "number"
        },
        "max": {
          "type": "number"
        },
        "choices": {
          "type": "array",
          "items": {
            "$ref": "option.schema.json#/definitions/option"
          }
        }
      },
      "required": [
        "type",
        "section",
        "id",
        "investigator",
        "choices",
        "min",
        "max"
      ],
      "additionalProperties": false
    },
    "useSuppliesInput": {
      "$id": "#useSuppliesInput",
      "title": "UseSuppliesInput",
      "oneOf": [
        {
          "$ref": "#/definitions/useSuppliesChoiceInput"
        },
        {
          "$ref": "#/definitions/useSuppliesAllInput"
        }
      ]
    },
    "cardChoiceInput": {
      "$id": "#cardChoiceInput",
      "title": "CardChoiceInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "card_choice"
          ]
        },
        "query": {
          "type": "array",
          "items": {
            "$ref": "types.schema.json#/definitions/cardQuery"
          }
        },
        "choices": {
          "type": "array",
          "items": {
            "$ref": "types.schema.json#/definitions/simpleEffectsChoice"
          }
        }
      },
      "required": ["type", "query", "choices"],
      "additionalProperties": false
    },
    "chooseOneInput": {
      "$id": "#chooseOneInput",
      "title": "ChooseOneInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "choose_one"
          ]
        },
        "style": {
          "type": "string",
          "enum": [
            "picker"
          ]
        },
        "choices": {
          "type": "array",
          "items": {
            "$ref": "types.schema.json#/definitions/choice"
          }
        }
      },
      "required": ["type", "choices"],
      "additionalProperties": false
    },
    "chooseManyInput": {
      "$id": "#chooseManyInput",
      "title": "ChooseManyInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "choose_many"
          ]
        },
        "choices": {
          "type": "array",
          "items": {
            "$ref": "types.schema.json#/definitions/choice"
          }
        },
        "count": {
          "type": "integer"
        },
        "progressive": {
          "type": "boolean"
        }
      },
      "required": ["type", "choices", "count"],
      "additionalProperties": false
    },
    "investigatorCounterInput": {
      "$id": "#investigatorCounterInput",
      "title": "InvestigatorCounterInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "investigator_counter"
          ]
        },
        "text": {
          "type": "string"
        },
        "effects": {
          "type": "array",
          "items": {
            "$ref": "effect.schema.json#/definitions/effect"
          }
        }
      },
      "required": ["type", "text", "effects"],
      "additionalProperties": false
    },
    "counterInput": {
      "$id": "#counterInput",
      "title": "CounterInput",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "counter"
          ]
        },
        "text": {
          "type": "string"
        },
        "max": {
          "type": "number"
        },
        "effects": {
          "type": "array",
          "items": {
            "$ref": "effect.schema.json#/definitions/effect"

          }
        }
      },
      "required": ["type", "text", "effects"],
      "additionalProperties": false
    },
    "input": {
      "$id": "#input",
      "title": "Input",
      "oneOf": [
        {
          "$ref": "#/definitions/cardChoiceInput"
        },
        {
          "$ref": "#/definitions/suppliesInput"
        },
        {
          "$ref": "#/definitions/useSuppliesInput"
        },
        {
          "$ref": "#/definitions/investigatorChoiceInput"
        },
        {
          "$ref": "#/definitions/chooseOneInput"
        },
        {
          "$ref": "#/definitions/chooseManyInput"
        },
        {
          "$ref": "#/definitions/counterInput"
        },
        {
          "$ref": "#/definitions/investigatorCounterInput"
        },
        {
          "$ref": "#/definitions/scenarioInvestigatorsInput"
        }
      ]
    }
  }
}